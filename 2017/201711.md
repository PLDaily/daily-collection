## Difficulties & Bug

## knowledge

### 一

> vue缓存处理

vue使用keep-alive缓存路由可以使页面回退时不刷新页面，但是下次进入该页面需要动态获取数据但是也显示了缓存的数据，使用activated(使用了keep-alive便会执行该声明周期)导航钩子中请求数据，并删除缓存的数据即可。

### 二

> promise与setTimeout连用

```
Promise.resolve().then(() => {
  new Promise(function (resolve) {
    setTimeout(resolve, 1000)
  }).then(function () {
    console.log('promise 3')
  })
  console.log('promise 1')
})
.then(() => {
  console.log('promise 2')
})
```

以上代码输入promise 1，promise 2，1s之后输出peomise 3。setTimeout相当于代码中的异步请求，请求成功后再执行console.log('promise 3')

## Common Code